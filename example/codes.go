package main

import (
	"encoding/hex"
	"github.com/SealSC/SealEVM/environment"
	"github.com/SealSC/SealEVM/types"
)

type exampleCodes struct {
	initCode         []byte
	incCallInput     []byte
	counterCallInput []byte
}

func loadCodes() *exampleCodes {
	ret := &exampleCodes{}

	ret.initCode, _ = hex.DecodeString("608060405234801561001057600080fd5b506102fc806100206000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c806361bc221a1461003b578063a792da5914610059575b600080fd5b610043610089565b604051610050919061010a565b60405180910390f35b610073600480360381019061006e9190610194565b61008f565b604051610080919061010a565b60405180910390f35b60005481565b600060016000808282546100a39190610210565b925050819055506000547f84fa11cd0353da7cf3201711842e07f8fdf6a488011edfc5b5d996318e339d5584846040516100de9291906102a2565b60405180910390a2600054905092915050565b6000819050919050565b610104816100f1565b82525050565b600060208201905061011f60008301846100fb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f8401126101545761015361012f565b5b8235905067ffffffffffffffff81111561017157610170610134565b5b60208301915083600182028301111561018d5761018c610139565b5b9250929050565b600080602083850312156101ab576101aa610125565b5b600083013567ffffffffffffffff8111156101c9576101c861012a565b5b6101d58582860161013e565b92509250509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600061021b826100f1565b9150610226836100f1565b925082820190508082111561023e5761023d6101e1565b5b92915050565b600082825260208201905092915050565b82818337600083830152505050565b6000601f19601f8301169050919050565b60006102818385610244565b935061028e838584610255565b61029783610264565b840190509392505050565b600060208201905081810360008301526102bd818486610275565b9050939250505056fea2646970667358221220978e7b7b85089cdb4ce014907b80c3cb6683084e5591e9347e724cc2a65814be64736f6c63430008120033")
	ret.incCallInput, _ = hex.DecodeString("a792da59000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000076578616d706c6500000000000000000000000000000000000000000000000000")
	ret.counterCallInput, _ = hex.DecodeString("61bc221a")

	return ret
}

func (e exampleCodes) InitCode() []byte {
	return e.initCode
}

func (e exampleCodes) IncreaseCallMessage(caller types.Address) *environment.Message {
	return &environment.Message{
		Caller: caller,
		Value:  nil,
		Data:   e.incCallInput,
	}
}

func (e exampleCodes) CounterCallMessage(caller types.Address) *environment.Message {
	return &environment.Message{
		Caller: caller,
		Value:  nil,
		Data:   e.counterCallInput,
	}
}
